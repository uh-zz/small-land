<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>AWS on small land</title><link>https://uh-zz.github.io/tags/aws/</link><description>Recent content in AWS on small land</description><generator>Hugo -- gohugo.io</generator><language>jp</language><lastBuildDate>Fri, 05 Jun 2020 18:07:06 +0900</lastBuildDate><atom:link href="https://uh-zz.github.io/tags/aws/index.xml" rel="self" type="application/rss+xml"/><item><title>DynamoDB のソートキーだけで絞り込みたいとき</title><link>https://uh-zz.github.io/posts/category/aws/2020/06/dynamo-only-sortkey-without-partionkey/</link><pubDate>Fri, 05 Jun 2020 18:07:06 +0900</pubDate><guid>https://uh-zz.github.io/posts/category/aws/2020/06/dynamo-only-sortkey-without-partionkey/</guid><description>はじめに Dynamo のテーブルに GSI(グローバルセカンダリインデックス)を貼ってハッシュキー＋ソートキーでクエリするパターンが通常の使い方かと思います。
ではソートキーを日付にしていた場合、同じ日付範囲のデータを一括で取得できる方法はありますでしょうか？
公式ドキュメントにはその辺の Tips なかったのですが、同僚から以下の記事を教えてもらいました。
DynamoDB の設計力をあげたい
これの設計２を参考にしました。
全データ共通のダミー列を用意して、以下の GSI を作成します。
パーティションキーはダミー列 ソートキーに日付 これで同じ日付範囲の複数データを引っ張ってくることが可能になります。
確かに美しいと言えないかもしれませんが、機転の効いた方法だと思いました。</description></item></channel></rss>